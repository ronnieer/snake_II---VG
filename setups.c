#include "general.h"


/*
=====================================================================================================================================================
========================  INT0 INTERRUPT  ===========================================================================================================
=====================================================================================================================================================
*/

void int1Interrupt(void){
    SREG &= ~0x80;
    EICRA |= 0x0C;  //INTERRUPT 1, FALLING EDGE
    EIMSK |= 0x02;  //EXTERNAL PIN INTERRUPT ENABLED
    PCICR |= 0X02;  //PIN CHANGE ITERRUPT CONTROL REGISTER
    PCIFR |= 0x02;
    PCMSK1 |= 0x04; //PORTD BIT 5 = INT1
    EIFR &= 0x01;
    SREG |= 0x80;   //Global Interrupt ENA
}

void int1InterruptOff(void){
    EIFR &= 0x01;
    EIMSK &= ~0x02;
}

void int1InterruptOn(void){
    EIMSK |= 0x02;
    EIFR &= 0x01;
}

/*
=====================================================================================================================================================
========================  INIT PORT  ================================================================================================================
=====================================================================================================================================================
*/

void initPorts(void){
    DDRB = 0xFF;  
    DDRD = 0x01;
    PORTD |= 0x08;         
}


